(function(){"use strict";var t={3215:function(t,o,e){var s=e(144),a=e(998),r=e(2118),n=e(3059),i=function(){var t=this,o=t._self._c;return o(a.Z,[o("Header",{on:{"delete-local-strage":t.deleteLocalStrage}}),o(n.Z,[o(r.Z,{staticClass:"mt-5"},[o("router-view",{attrs:{books:t.books},on:{"add-book-list":t.addBook,"update-book-info":t.updateBookInfo}})],1)],1),o("Footer")],1)},l=[],c=e(704),u=e(8762),d=e(3687),m=function(){var t=this,o=t._self._c;return o("div",[o(c.Z,{attrs:{app:"",color:"info",dark:""}},[o("div",{staticClass:"text-h5"},[t._v("Search Books")]),o(d.Z),o(u.Z,{attrs:{color:"warning"},on:{click:t.deleteLocalStrage}},[t._v("削除")])],1)],1)},f=[],k={name:"Header",methods:{deleteLocalStrage(){this.$emit("delete-local-strage")}}},h=k,p=e(1001),v=(0,p.Z)(h,m,f,!1,null,null,null),b=v.exports,Z=function(){var t=this,o=t._self._c;return o("div",[o(c.Z,[t._v(" © Kawatani Shinya ")])],1)},g=[],_={},y=_,w=(0,p.Z)(y,Z,g,!1,null,null,null),S=w.exports;const x="books";var B={name:"App",components:{Header:b,Footer:S},data(){return{books:[],newBook:null}},mounted(){if(localStorage.getItem(x))try{this.books=JSON.parse(localStorage.getItem(x))}catch(t){localStorage.removeItem(x)}},methods:{addBook(t){this.books.push({id:this.books.length,title:t.title,image:t.image,description:t.description,readDate:"",memo:""}),this.saveBooks(),this.goToEditPage(this.books.slice(-1)[0].id)},removeBook(t){this.books.splice(t,1),this.saveBooks()},saveBooks(){const t=JSON.stringify(this.books);localStorage.setItem(x,t)},updateBookInfo(t){const o={id:t.id,readDate:t.readDate,memo:t.memo,title:this.books[t.id].title,image:this.books[t.id].image,description:this.books[t.id].description};this.books.splice(t.id,1,o),this.saveBooks(),this.$router.push("/")},goToEditPage(t){this.$router.push(`/edit/${t}`)},deleteLocalStrage(){const t="LocalStrageのデータを削除しますがよろしいですか？";window.confirm(t)&&(localStorage.setItem(x,""),localStorage.removeItem(x),this.books=[],window.location.reload())}}},O=B,I=(0,p.Z)(O,i,l,!1,null,null,null),D=I.exports,P=e(8345),$=e(4145),j=e(4886),E=e(266),R=e(4324),T=e(5495),C=e(1713),L=function(){var t=this,o=t._self._c;return o("div",[o(C.Z,[o(E.Z,{attrs:{cols:"12"}},[o("div",{attrs:{align:"center"}},[o(u.Z,{attrs:{color:"primary",to:"/search"}},[t._v("検索")])],1)])],1),o("div",{staticClass:"my-10"}),o(C.Z,t._l(t.books,(function(e){return o(E.Z,{key:e.id,attrs:{cols:"12",sm:"6"}},[o($.Z,[o(C.Z,[o(E.Z,{attrs:{cols:"4"}},[o(T.Z,{attrs:{src:e.image}})],1),o(E.Z,{attrs:{cols:"8"}},[o(j.EB,[t._v(t._s(e.title))]),t._v(" Read Date : "+t._s(e.readDate)+" "),o("br"),t._v(" Personal Note : "+t._s(e.memo)+" "),o(d.Z),o(j.h7,[o(u.Z,{attrs:{to:{name:"BookEdit",params:{id:e.id}},color:"indigo",fab:"",small:"",dark:""}},[o(R.Z,[t._v("mdi-pencil")])],1)],1)],1)],1)],1)],1)})),1)],1)},N=[],A={props:{books:Array}},F=A,H=(0,p.Z)(F,L,N,!1,null,null,null),M=H.exports,J=e(8088),q=function(){var t=this,o=t._self._c;return o("div",[o(C.Z,[o(E.Z,{attrs:{cols:"3"}}),o(E.Z,{attrs:{cols:"6"}},[o(J.Z,{attrs:{outlined:"",label:"タイトル検索"},model:{value:t.keyword,callback:function(o){t.keyword=o},expression:"keyword"}})],1),o(E.Z,{attrs:{cols:"3"}})],1),o(C.Z,[o(E.Z,{attrs:{cols:"3"}}),o(E.Z,{attrs:{cols:"3"}},[o("div",{attrs:{align:"center"}},[o(u.Z,{attrs:{color:"primary"},on:{click:function(o){return t.search(t.keyword)}}},[t._v(" 検索 ")])],1)]),o(E.Z,{attrs:{cols:"3"}},[o("div",{attrs:{align:"center"}},[o(u.Z,{attrs:{color:"secondary",to:"/"}},[t._v(" 一覧に戻る ")])],1)]),o(E.Z,{attrs:{cols:"3"}})],1),o("div",{staticClass:"my-10"}),o(C.Z,t._l(t.searchResults,(function(e,s){return o(E.Z,{key:e.index,attrs:{cols:"12",md:"6"}},[o($.Z,{staticClass:"mx-auto"},[o(C.Z,[o(E.Z,{attrs:{cols:"4"}},[o(T.Z,{attrs:{src:e.image}})],1),o(E.Z,{attrs:{cols:"8"}},[o(j.EB,[t._v(t._s(e.title))]),t._v(" "+t._s(e.description)+" "),o(d.Z),o(j.h7,[o(u.Z,{attrs:{fab:"",dark:"",color:"indigo"},on:{click:function(o){return t.addBookList(s)}}},[o(R.Z,{attrs:{dark:""}},[t._v("mdi-plus")])],1)],1)],1)],1)],1)],1)})),1)],1)},z=[],K={name:"BookSearch",data(){return{keyword:"",searchResults:[]}},methods:{addBookList(t){this.$emit("add-book-list",this.searchResults[t])},async search(t){this.searchResults=[];const o="https://www.googleapis.com/books/v1/volumes?",e={q:`intitle:${t}`,maxResults:40},s=new URLSearchParams(e);console.log(o+s);const a=await fetch(o+s).then((t=>t.json()));console.log(a.items);for(let r of a.items){let t=r.volumeInfo.title,o=r.volumeInfo.imageLinks,e=r.volumeInfo.description;this.searchResults.push({title:t||"",image:o?o.thumbnail:"",description:e?e.slice(0,40):""})}}}},U=K,G=(0,p.Z)(U,q,z,!1,null,null,null),Q=G.exports,V=e(8360),W=e(3850),X=e(2648),Y=function(){var t=this,o=t._self._c;return o("div",[o(C.Z,[o(E.Z,{attrs:{cols:"12"}},[o($.Z,{staticClass:"mx-auto"},[o(C.Z,[o(E.Z,{attrs:{cols:"4"}},[o(T.Z,{attrs:{src:t.book.image}})],1),o(E.Z,{attrs:{cols:"8"}},[o(j.EB,[t._v(" Title : "+t._s(t.book.title)+" ")]),t._v(" Read Date : "),o(W.Z,{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function({on:e,attrs:s}){return[o(J.Z,t._g(t._b({attrs:{readonly:""},model:{value:t.date,callback:function(o){t.date=o},expression:"date"}},"v-text-field",s,!1),e))]}}]),model:{value:t.menu,callback:function(o){t.menu=o},expression:"menu"}},[o(V.Z,{attrs:{locale:"jp-ja","day-format":t=>new Date(t).getDate()},on:{input:function(o){t.menu=!1}},model:{value:t.date,callback:function(o){t.date=o},expression:"date"}})],1),t._v(" Personal Note : "),o(X.Z,{staticClass:"mx-2",attrs:{solo:""},model:{value:t.book.memo,callback:function(o){t.$set(t.book,"memo",o)},expression:"book.memo"}},[t._v(" "+t._s(t.book.memo)+" ")]),o(j.h7,[o(u.Z,{attrs:{color:"secondary",to:"/"}},[t._v("一覧に戻る")]),o(u.Z,{attrs:{color:"info"},on:{click:t.updateBookInfo}},[t._v("保存")])],1)],1)],1)],1)],1)],1)],1)},tt=[],ot={name:"BookEdit",props:{books:Array},data(){return{book:"",date:"",menu:!1}},methods:{updateBookInfo(){this.$emit("update-book-info",{id:this.$route.params.id,readDate:this.date,memo:this.book.memo})}},beforeRouteEnter(t,o,e){e((t=>{t.$nextTick((()=>{t.book=t.books[t.$route.params.id],t.book.readDate?t.date=t.book.readDate:t.date=new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)}))}))}},et=ot,st=(0,p.Z)(et,Y,tt,!1,null,null,null),at=st.exports;s.ZP.use(P.Z);const rt=[{path:"/",name:"BookIndex",component:M},{path:"/search",name:"BookSearch",component:Q},{path:"/edit/:id",name:"BookEdit",component:at},{path:"*",redirect:"/"}],nt=new P.Z({mode:"history",base:"",routes:rt});var it=nt,lt=e(1705);s.ZP.use(lt.Z);var ct=new lt.Z({});s.ZP.config.productionTip=!1,new s.ZP({router:it,vuetify:ct,render:t=>t(D)}).$mount("#app")}},o={};function e(s){var a=o[s];if(void 0!==a)return a.exports;var r=o[s]={exports:{}};return t[s](r,r.exports,e),r.exports}e.m=t,function(){var t=[];e.O=function(o,s,a,r){if(!s){var n=1/0;for(u=0;u<t.length;u++){s=t[u][0],a=t[u][1],r=t[u][2];for(var i=!0,l=0;l<s.length;l++)(!1&r||n>=r)&&Object.keys(e.O).every((function(t){return e.O[t](s[l])}))?s.splice(l--,1):(i=!1,r<n&&(n=r));if(i){t.splice(u--,1);var c=a();void 0!==c&&(o=c)}}return o}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[s,a,r]}}(),function(){e.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(o,{a:o}),o}}(),function(){e.d=function(t,o){for(var s in o)e.o(o,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:o[s]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};e.O.j=function(o){return 0===t[o]};var o=function(o,s){var a,r,n=s[0],i=s[1],l=s[2],c=0;if(n.some((function(o){return 0!==t[o]}))){for(a in i)e.o(i,a)&&(e.m[a]=i[a]);if(l)var u=l(e)}for(o&&o(s);c<n.length;c++)r=n[c],e.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return e.O(u)},s=self["webpackChunkbookapp"]=self["webpackChunkbookapp"]||[];s.forEach(o.bind(null,0)),s.push=o.bind(null,s.push.bind(s))}();var s=e.O(void 0,[998],(function(){return e(3215)}));s=e.O(s)})();
//# sourceMappingURL=app.1ed0bf8e.js.map